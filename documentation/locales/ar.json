{
  "meta": {
    "title": "DNA App โ Developer Documentation",
    "subtitle": "Next.js 16 (App Router) โข TypeScript โข LMDB โข shadcn/ui โข PWA",
    "updatedAt": "2026-01-06"
  },
  "ui": {
    "languageLabel": "Language",
    "english": "English",
    "arabic": "Arabic",
    "searchPlaceholder": "ุงุจุญุซ ุฏุงุฎู ุงูุชูุซููโฆ",
    "toc": "ุฌุฏูู ุงููุญุชููุงุช",
    "tipText": "ุงุณุชุฎุฏู ูุฑุจุน ุงูุจุญุซ ูุชุตููุฉ ุงูุฃูุณุงู.",
    "heroTitle": "ุฏููู ุงููุทูุฑ",
    "heroLead": "ูุฐู ุตูุญุฉ HTML ูุงุญุฏุฉ ุชุนุฑุถ ุงูุชูุซูู. ูุชู ุชุญููู ุงููุญุชูู ุซูุงุฆู ุงููุบุฉ ูู ูููุงุช JSON ุฏุงุฎู documentation/locales/.",
    "copy": "ูุณุฎ",
    "copied": "ุชู ุงููุณุฎ",
    "note": "ููุงุญุธุฉ",
    "warning": "ุชุญุฐูุฑ"
  },
  "sections": [
    {
      "id": "overview",
      "title": "ูุธุฑุฉ ุนุงูุฉ",
      "icon": "๐งญ",
      "blocks": [
        {
          "type": "p",
          "text": "ูุดุฑุญ ูุฐุง ุงููุณุชูุฏ ุชุทุจูู DNA ููุทููุฑู ุงูุจุฑูุฌูุงุช ุงูุฐูู ูุญุชุงุฌูู ุฅูู ุตูุงูุชู ูุชุทููุฑู. ุงููุฏู ูู ุชูุซูู ุนููู: ุฃูู ุชูุฌุฏ ุงูุฃุดูุงุกุ ููู ุชุชุฏูู ุงูุจูุงูุงุชุ ููุง ุงูุฐู ูุฌุจ ุชุนุฏููู ุนูุฏ ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ."
        },
        {
          "type": "ul",
          "items": [
            "ุงูุฅุทุงุฑ: Next.js 16 (App Router) + React 19",
            "ุงููุบุฉ: TypeScript",
            "ูุงุนุฏุฉ ุงูุจูุงูุงุช: LMDB (ูููููุฉ) โ ุนูู ุงูุฎุงุฏู ููุท",
            "ุชุณุฌูู ุงูุฏุฎูู: JWT ุฏุงุฎู Cookie ูุญูู (auth-token)",
            "ุชุนุฏุฏ ุงููุบุงุช: ุฌุฒุก locale ูู ุงูุฑุงุจุท /{locale} (en, ar)",
            "ุงููุงุฌูุฉ: Tailwind + shadcn/uiุ ุงูุญุฑูุฉ ุนุจุฑ framer-motion",
            "PWA: next-pwa ูุน ุตูุญุฉ ูุถุน ุนุฏู ุงูุงุชุตุงู (/offline)"
          ]
        },
        {
          "type": "note",
          "title": "ููุงุนุฏ ุงููุณุชูุฏุน",
          "text": "ุงูุฃุณูุงุก ูุงูุชุนูููุงุช ูุงูุณูุงุณู ุงูุฏุงุฎููุฉ ูุฌุจ ุฃู ุชุจูู ุจุงูุฅูุฌููุฒูุฉ. ุงููุตูุต ุงูููุฌูุฉ ูููุณุชุฎุฏู ูุฌุจ ุฃู ุชููู ุถูู ูููุงุช ุงูุชุฑุฌูุฉ ููุท."
        }
      ]
    },
    {
      "id": "quickstart",
      "title": "ุจุฏุก ุณุฑูุน",
      "icon": "๐",
      "blocks": [
        {
          "type": "p",
          "text": "ุงูุชุทููุฑ ุงููุญูู ูุนูู ุนูู ุงููููุฐ 3016. ุงุณุชุฎุฏู ุงูุฃูุงูุฑ ุงูุชุงููุฉ." 
        },
        {
          "type": "code",
          "language": "bash",
          "code": "npm install\nnpm run dev\n# ุฃู ุฅุฐุง ูุงุฌูุช ูุดุงูู ูุน Turbopack:\nnpm run dev:webpack"
        },
        {
          "type": "p",
          "text": "ุจูุงุก ูุชุดุบูู ุงูุฅูุชุงุฌ:" 
        },
        {
          "type": "code",
          "language": "bash",
          "code": "npm run build\nPORT=3016 npm run start"
        },
        {
          "type": "note",
          "title": "ุชููุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช",
          "text": "ูุชููุฆุฉ/ุจุฐุฑ LMDB ูุฅูุดุงุก ูุณุชุฎุฏู admin ุงุณุชุฎุฏู npm run db:init ู npm run create-admin (ุฑุงุฌุน ูุณู Scripts & Maintenance)."
        }
      ]
    },
    {
      "id": "structure",
      "title": "ูููู ุงููุดุฑูุน",
      "icon": "๐๏ธ",
      "blocks": [
        {
          "type": "p",
          "text": "ุฃูู ุงููุฌูุฏุงุช ููุง ุชุญุชููู:" 
        },
        {
          "type": "ul",
          "items": [
            "src/app โ ูุณุงุฑุงุช Next.js ูุงูุชุฎุทูุทุงุช ููุงุฌูุงุช API",
            "src/components โ ูููููุงุช ุงููุงุฌูุฉ ุงููุดุชุฑูุฉ (ูููููุงุช ุนูููุ ูุงุฌูุฉ ูุชุญุฑูุฉ)",
            "src/lib โ ุฃุฏูุงุช ุงูุฎุงุฏู (auth, db, i18n, academy context)",
            "src/lib/db/repositories โ ูุณุชูุฏุนุงุช LMDB (CRUD + ููุงุฑุณ)",
            "data/lmdb โ ูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช (data.mdb, lock.mdb)",
            "data/uploads โ ูููุงุช ุงูุฑูุน ุงูุฏุงุฆูุฉ (ุตูุฑุ ูุณุชูุฏุงุชุ ููุฏููโฆ)",
            "public โ ุฃุตูู ุซุงุจุชุฉ (manifest, icons, service worker)",
            "docs โ ููุงุตูุงุช ูููุฒุงุช ุจุตูุบุฉ Markdown",
            "documentation โ ุชูุซูู ุงููุทูุฑ (HTML + ูุฑุงุฌุน)"
          ]
        }
      ]
    },
    {
      "id": "routing-i18n",
      "title": "ุงููุณุงุฑุงุช ูุชุนุฏุฏ ุงููุบุงุช",
      "icon": "๐",
      "blocks": [
        {
          "type": "p",
          "text": "ุงููุบุงุช ุชูุทุจูู ุนุจุฑ ุฃูู ุฌุฒุก ูู ุงูุฑุงุจุท: /{locale}/... ุญูุซ locale = en ุฃู ar." 
        },
        {
          "type": "ul",
          "items": [
            "ุงููุบุงุช ุงููุฏุนููุฉ: src/config/i18n.ts",
            "ุชุญููู ุงูุฌุฐุฑ: src/app/page.tsx (ูุณุชุฎุฏู Cookie ุจุงุณู locale)",
            "ุชุฎุทูุท ุงููุบุฉ: src/app/[locale]/layout.tsx ูุญุฏุฏ dir=ltr/rtl"
          ]
        },
        {
          "type": "note",
          "title": "ุงููุตูุต",
          "text": "ูุง ุชูุชุจ ูุตูุตูุง ุทูููุฉ ุฏุงุฎู ุงููููููุงุช. ุฃุถู ููุงุชูุญ ุฅูู src/locales/en.json ู src/locales/ar.json ูุงูุฑุฃูุง ุนุจุฑ getDictionary(locale)."
        }
      ]
    },
    {
      "id": "auth",
      "title": "ุชุณุฌูู ุงูุฏุฎูู",
      "icon": "๐",
      "blocks": [
        {
          "type": "p",
          "text": "ูุณุชุฎุฏู ุงููุธุงู JWT ุฏุงุฎู Cookie ูุญูู ุจุงุณู auth-token." 
        },
        {
          "type": "ul",
          "items": [
            "ุฃุฏูุงุช JWT: src/lib/auth/auth.ts",
            "ุชุณุฌูู ุงูุฏุฎูู: POST /api/auth/login (ูุถุน ุงูู cookie)",
            "ุชุณุฌูู ุงูุฎุฑูุฌ: POST /api/auth/logout (ูุญุฐู ุงูู cookie)",
            "ุงููุณุชุฎุฏู ุงูุญุงูู: GET /api/auth/me"
          ]
        },
        {
          "type": "warning",
          "title": "ุงูุฃูุงู",
          "text": "ุฅุฎูุงุก ุนูุงุตุฑ ุงููุงุฌูุฉ ููุณ ุฃูุงููุง. ูุฌุจ ุฏุงุฆููุง ูุฑุถ ุงูุตูุงุญูุงุช ุนูู ุงูุฎุงุฏู (ูุณุงุฑุงุช API ููููููุงุช ุงูุฎุงุฏู)."
        }
      ]
    },
    {
      "id": "permissions",
      "title": "ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช",
      "icon": "๐งฉ",
      "blocks": [
        {
          "type": "p",
          "text": "ูุธุงู ุงูุตูุงุญูุงุช ุงูุญุงูู ูุจูู ุนูู ุฃุฏูุงุฑ ูุน ุฃุนูุงู ููุทููุฉ (booleans) ูุฎุฒูุฉ ูู LMDB. ุชุฎุทูุท ููุญุฉ ุงูุชุญูู ูุญููู ูุฐู ุงูุฃุนูุงู ุฅูู ููุงุชูุญ ููุงุฑุฏ ูุงุจูุฉ ูููุตูู." 
        },
        {
          "type": "ul",
          "items": [
            "ูุณุชูุฏุน ุงูุตูุงุญูุงุช: src/lib/db/repositories/rolePermissionRepository.ts",
            "ุชูููุฏ ููุญุฉ ุงูุชุญูู: src/app/[locale]/dashboard/layout.tsx",
            "ูุงุฌูุฉ ุงูุนููู ุชุณุชููู: accessibleResources[]"
          ]
        },
        {
          "type": "p",
          "text": "ูุฅุถุงูุฉ ุตูุงุญูุฉ ุฌุฏูุฏุฉ ุนุงุฏุฉู:" 
        },
        {
          "type": "ol",
          "items": [
            "ุฃุถู ุนูููุง ุฌุฏูุฏูุง ุฅูู RolePermission.permissions",
            "ุญุฏุฏ ุงูููู ุงูุงูุชุฑุงุถูุฉ ููู ุฏูุฑ",
            "ุงุฑุจุท ุงูุนูู ุจููุชุงุญ ููุฑุฏ dashboard.<module>",
            "ุทุจูู ุงูุชูููุฏ ุนูู ุงูุฎุงุฏู ูู API ููููููุงุช ุงูุฎุงุฏู"
          ]
        }
      ]
    },
    {
      "id": "academy-context",
      "title": "ุณูุงู ุงูุฃูุงุฏูููุฉ (ุชุนุฏุฏ ุงููุณุชุฃุฌุฑูู)",
      "icon": "๐๏ธ",
      "blocks": [
        {
          "type": "p",
          "text": "ุงูุนุฏูุฏ ูู ุงููุญุฏุงุช ูุฑุชุจุทุฉ ุจุฃูุงุฏูููุฉ ูุญุฏุฏุฉ. ูุนุฑู ุงูุฃูุงุฏูููุฉ ุงููุฎุชุงุฑุฉ ูุญููุธ ูู Cookie ูุญูู ุจุงุณู academy-id." 
        },
        {
          "type": "ul",
          "items": [
            "ุงูููุญูููู: src/lib/academies/academyContext.ts (requireAcademyContext)",
            "ุงููุฏูุฑ (manager) ูููุฏ ุจุฃูุงุฏูููุฉ ูุงุญุฏุฉ (ูุชู ุชุฌุงูู ุงูู cookie)",
            "ูุฏ ูุชู ุฅูุดุงุก ุนุถููุฉ ุชููุงุฆูุฉ ูููุงุกูุฉ ุจูุงูุงุช ูุฏููุฉ"
          ]
        }
      ]
    },
    {
      "id": "data-lmdb",
      "title": "ุทุจูุฉ ุงูุจูุงูุงุช (LMDB)",
      "icon": "๐๏ธ",
      "blocks": [
        {
          "type": "p",
          "text": "LMDB ุชูุณุชุฎุฏู ุนูู ุงูุฎุงุฏู ููุท. ุงููุณุชูุฏุนุงุช ุชุทุจู CRUD ูููุงุฑุณ ุนุจุฑ ุจุงุฏุฆุงุช ููุงุชูุญ." 
        },
        {
          "type": "ul",
          "items": [
            "ุงุชุตุงู LMDB: src/lib/db/lmdb.ts",
            "ุงููุณุชูุฏุนุงุช: src/lib/db/repositories/*.ts",
            "ูุง ุชุณุชูุฑุฏ LMDB ุฃู ุงููุณุชูุฏุนุงุช ุฏุงุฎู ูููููุงุช ุงูุนููู"
          ]
        },
        {
          "type": "p",
          "text": "ููุงุนุฏ ุงููุณุชูุฏุนุงุช:" 
        },
        {
          "type": "ul",
          "items": [
            "ุงุณุชุฎุฏู ุจุงุฏุฆุงุช ุซุงุจุชุฉ (ูุซู users:, users_by_email:)",
            "ุฃุฏุฑ ุงูููุงุฑุณ ุงูุซุงูููุฉ ูุฏูููุง",
            "ุงุณุชุฎุฏู getRange(start/end) ููุณุญ ุงูุจุงุฏุฆุฉ (end = prefix + \"\\xFF\")",
            "ุฃุฏุฑุฌ academyId ูู ุงูุณุฌูุงุช ุฃู ุชุตููู ุงูููุงุชูุญ ููุชูููุฏ"
          ]
        }
      ]
    },
    {
      "id": "api",
      "title": "ูุงุฌูุงุช API",
      "icon": "๐ฐ๏ธ",
      "blocks": [
        {
          "type": "p",
          "text": "ูุงุฌูุงุช API ููููููุฐุฉ ุถูู App Router ูู route handlers ูู src/app/api/**/route.ts." 
        },
        {
          "type": "ul",
          "items": [
            "ุงูุตุญุฉ: GET /api/health",
            "ุงููุตุงุฏูุฉ: /api/auth/login, /api/auth/logout, /api/auth/me",
            "ุงูุฑูุน: POST /api/upload",
            "ุงููุณุฎ ุงูุงุญุชูุงุทู: GET/POST /api/backup (admin)",
            "ุงูุงุณุชุนุงุฏุฉ: POST /api/restore (admin)",
            "WhatsApp: /api/whatsapp/*",
            "ุงูุฅุดุนุงุฑุงุช: /api/notifications/*",
            "ุงูุฑุณุงุฆู: /api/messages/unread-count"
          ]
        },
        {
          "type": "warning",
          "title": "ุชูุจูู ุงููุณุฎ/ุงูุงุณุชุนุงุฏุฉ",
          "text": "ููุงุท ุงููุณุฎ ูุงูุงุณุชุนุงุฏุฉ ุชููุฐ ุฃูุงูุฑ shell (tar, rm). ูุฌุจ ุชูููุฏ ุงููุตูู ูู ุงูุฅูุชุงุฌ ูุฅุถุงูุฉ ุชุญุตูู ุฅุถุงูู ุนูุฏ ุงูุญุงุฌุฉ." 
        }
      ]
    },
    {
      "id": "ui",
      "title": "ุฅุฑุดุงุฏุงุช ุงููุงุฌูุฉ ูุงูุญุฑูุฉ",
      "icon": "๐ฎ",
      "blocks": [
        {
          "type": "p",
          "text": "ุชุตููู ุงููุงุฌูุฉ ููุตูุฏ ุฃู ูููู ููุชุนูุง ุดุจูููุง ุจุงูุฃูุนุงุจ. ุงุณุชุฎุฏู framer-motion ูุงูุชูุงูุงุช ุงูุตูุญุงุช ูุฑุฏูุฏ ุงููุนู ุนูุฏ ุงูุชูุงุนู." 
        },
        {
          "type": "ul",
          "items": [
            "ุงุณุชุฎุฏู motion ุนูู ุงูุนูุงุตุฑ ุงูุชูุงุนููุฉ (hover/tap)",
            "ุฃุถู ุญุฑูุงุช ุฏุฎูู ููุตูุญุงุช ูุงูุจุทุงูุงุช",
            "ุงุณุชุฎุฏู shadcn/ui ูููููููุงุช ุงูุฃุณุงุณูุฉ ูTailwind ููุชุฌููุน",
            "ุงููุธูุฑ ุงูุฏุงูู ููุฑูุถ ุงูุชุฑุงุถููุง (forcedTheme=dark)"
          ]
        }
      ]
    },
    {
      "id": "deployment",
      "title": "ุงููุดุฑ (Docker) ู PWA",
      "icon": "๐ฆ",
      "blocks": [
        {
          "type": "p",
          "text": "ูุชู ุจูุงุก ุงูุชุทุจูู ูุชุดุบููู ุนุจุฑ Docker ุนูู ุงููููุฐ 4040 (docker-compose.yml)." 
        },
        {
          "type": "ul",
          "items": [
            "Dockerfile: ุจูุงุก ูุชุนุฏุฏ ุงููุฑุงุญู",
            "docker-compose.yml: ุฃุญุฌุงู ูุชุฎุฒูู data/uploads/logs",
            "Healthcheck: GET /api/health",
            "PWA: ูููุฃ ูู next.config.ts (ูุนุทู ูู dev)"
          ]
        },
        {
          "type": "note",
          "title": "ุตูุญุฉ ุนุฏู ุงูุงุชุตุงู",
          "text": "ุตูุญุฉ ูุถุน ุนุฏู ุงูุงุชุตุงู ููุฌูุฏุฉ ูู src/app/offline/page.tsx ููููุฃุฉ ูู fallback ูู ุฅุนุฏุงุฏุงุช PWA." 
        }
      ]
    },
    {
      "id": "extend",
      "title": "ููููุฉ ุฅุถุงูุฉ ููุฒุฉ ุฌุฏูุฏุฉ",
      "icon": "๐งฑ",
      "blocks": [
        {
          "type": "ol",
          "items": [
            "ุฃุถู ุงููุณุงุฑุงุช ุชุญุช src/app/[locale]/dashboard/<module>/...",
            "ุฃุถู/ุญุฏูุซ ุงููุณุชูุฏุนุงุช ุถูู src/lib/db/repositories",
            "ุฃุถู ุงูุชุฑุฌูุฉ ูู src/locales/en.json ู src/locales/ar.json",
            "ุฃุถู ุตูุงุญูุงุช ุฅุฐุง ูุงูุช ุงูููุฒุฉ ุชุญุชุงุฌ ุชูููุฏูุง",
            "ุทุจูู ุงูุชูููุฏ ุนูู ุงูุฎุงุฏู ูู API ููููููุงุช ุงูุฎุงุฏู",
            "ุงุจูู ุงููุงุฌูุฉ ุจุงุณุชุฎุฏุงู shadcn/ui + framer-motion"
          ]
        },
        {
          "type": "note",
          "title": "ุจููุฉ ูุนูุงุฑูุฉ",
          "text": "ูู ุจุชุบููุฑุงุช ุตุบูุฑุฉ ูุงุจูุฉ ููุงุฎุชุจุงุฑ. ุญุฏูุซ ุงููุณุชูุฏุนุงุช ุจุฏู ุงูุชุนุงูู ุงููุจุงุดุฑ ูุน LMDB ูู ุงููุณุงุฑุงุช." 
        }
      ]
    },
    {
      "id": "troubleshooting",
      "title": "ุงุณุชูุดุงู ุงูุฃุฎุทุงุก",
      "icon": "๐๏ธ",
      "blocks": [
        {
          "type": "ul",
          "items": [
            "ุญุฌุจ ุฃุตูู dev ุฎูู proxy/LAN: ุงุถุจุท NEXT_ALLOWED_DEV_ORIGINS",
            "ูุดุงูู LMDB: ุฒุฏ LMDB_MAX_READERS ูุชุฌูุจ ุงูุงุณุชูุฑุงุฏ ูู ุงูุนููู",
            "ุงูุฑูุน ูุง ูุธูุฑ: ุชุญูู ูู volume ู routing ููุณุงุฑ /uploads",
            "ุนุฏู ูุตูู push: ุชุญูู ูู VAPID ููู ูุฌูุฏ ุงูุงุดุชุฑุงูุงุช"
          ]
        }
      ]
    }
  ]
}
